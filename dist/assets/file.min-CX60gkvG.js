import{a as oe,c as re}from"./index-DUduwWLC.js";import{r as ae}from"./froala_editor.min-CYTjCKNx.js";function ie(A,x){for(var n=0;n<x.length;n++){const e=x[n];if(typeof e!="string"&&!Array.isArray(e)){for(const u in e)if(u!=="default"&&!(u in A)){const c=Object.getOwnPropertyDescriptor(e,u);c&&Object.defineProperty(A,u,c.get?c:{enumerable:!0,get:()=>e[u]})}}}return Object.freeze(Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}))}var ne={exports:{}};/*!
 * froala_editor v4.5.0 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2025 Froala Labs
 */(function(A,x){(function(n,e){e(ae())})(re,function(n){n=n&&n.hasOwnProperty("default")?n.default:n,Object.assign(n.POPUP_TEMPLATES,{"file.insert":"[_BUTTONS_][_UPLOAD_LAYER_][_PROGRESS_BAR_]"}),Object.assign(n.DEFAULTS,{fileUpload:!0,fileUploadURL:null,fileUploadParam:"file",fileUploadParams:{},fileUploadToS3:!1,fileUploadToAzure:!1,fileUploadMethod:"POST",fileMaxSize:10485760,fileAllowedTypes:["*"],fileInsertButtons:["fileBack","|"],fileUseSelectedText:!1}),n.PLUGINS.file=function(e){var u,c=e.$,N="https://i.froala.com/upload",E=2,B=3,m=4,L=5,I=6,U={};function S(){var t=e.popups.get("file.insert");t||(t=w()),t.find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"),t.find(".fr-file-progress-bar-layer").addClass("fr-active"),t.find(".fr-buttons").hide(),D(e.language.translate("Uploading"),0)}function P(t){var o=e.popups.get("file.insert");o&&(o.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"),o.find(".fr-file-progress-bar-layer").removeClass("fr-active"),o.find(".fr-buttons").show(),t&&(e.events.focus(),e.popups.hide("file.insert")))}function D(t,o){var a=e.popups.get("file.insert");if(a){var i=a.find(".fr-file-progress-bar-layer");i.find("h3").text(t+(o?" ".concat(o,"%"):"")),i.removeClass("fr-error"),o?(i.find("div").removeClass("fr-indeterminate"),i.find("div > span").css("width","".concat(o,"%"))):i.find("div").addClass("fr-indeterminate")}}function C(t,o,a,i){var r;e.edit.on(),e.events.focus(!0),e.selection.restore(),e.opts.fileUseSelectedText&&e.selection.text().length&&(o=e.selection.text());var l='<a href="'.concat(t,'" id="fr-inserted-file" ');if(i!==void 0)for(r in i)i.hasOwnProperty(r)&&r!="link"&&(l+="".concat(r,'="').concat(i[r],'" '));l.indexOf(' class="')==-1&&(l+='class="fr-file" '),l+=">".concat(o,"</a>"),e.html.insert(l);var s=e.$el.find("#fr-inserted-file");s.removeAttr("id"),e.popups.hide("file.insert"),e.undo.saveStep(),R(),e.events.trigger("file.inserted",[s,a])}function J(t,o,a){var i=this.status,r=this.response,l=this.responseXML,s=this.responseText;try{if(e.opts.fileUploadToS3||e.opts.fileUploadToAzure)if(i===201){var f;if(e.opts.fileUploadToAzure){if(e.events.trigger("file.uploadedToAzure",[this.responseURL,a,r],!0)===!1)return e.edit.on(),!1;f=o}else f=function(d){try{var h=c(d).find("Location").text(),b=c(d).find("Key").text();return e.events.trigger("file.uploadedToS3",[h,b,d],!0)===!1?(e.edit.on(),!1):h}catch{return g(m,d),!1}}(l);f&&C(f,t,r||l)}else g(m,r||l);else if(200<=i&&i<300){var v=function(d){try{if(e.events.trigger("file.uploaded",[d],!0)===!1)return e.edit.on(),!1;var h=JSON.parse(d);return h.link?h:(g(E,d),!1)}catch{return g(m,d),!1}}(s);v&&C(v.link,t,r||s,v)}else g(B,r||s)}catch{g(m,r||s)}}function G(){g(m,this.response||this.responseText||this.responseXML)}function X(t){if(t.lengthComputable){var o=t.loaded/t.total*100|0;D(e.language.translate("Uploading"),o)}}function g(t,o){e.edit.on(),function(i){S();var r=e.popups.get("file.insert").find(".fr-file-progress-bar-layer");r.addClass("fr-error");var l=r.find("h3");l.text(i),e.events.disableBlur(),l.focus()}(e.language.translate("Something went wrong. Please try again.")),e.events.trigger("file.error",[{code:t,message:U[t]},o])}function Y(){e.edit.on(),P(!0)}function $(t){if(t!==void 0&&0<t.length){var o=t[0].type;if(t[0].name&&t[0].name.endsWith(".msg")&&(o="application/vnd.ms-outlook"),e.events.trigger("file.beforeUpload",[t])===!1)return!1;var a,i=t[0];if(!(e.opts.fileUploadURL!==null&&e.opts.fileUploadURL!==N||e.opts.fileUploadToS3||e.opts.fileUploadToAzure))return function(y){var k=new FileReader;k.onload=function(){for(var H=k.result,M=atob(k.result.split(",")[1]),j=[],_=0;_<M.length;_++)j.push(M.charCodeAt(_));var q=y.type;y.name&&y.name.endsWith(".msg")&&(q="application/vnd.ms-outlook"),H=window.URL.createObjectURL(new Blob([new Uint8Array(j)],{type:q})),e.file.insert(H,y.name,null)},S(),k.readAsDataURL(y)}(i),!1;if(i.size>e.opts.fileMaxSize)return g(L),!1;if(e.opts.fileAllowedTypes.indexOf("*")<0&&e.opts.fileAllowedTypes.indexOf(o.replace(/file\//g,""))<0)return g(I),!1;if(e.drag_support.formdata&&(a=e.drag_support.formdata?new FormData:null),a){var r;if(e.opts.fileUploadToS3!==!1)for(r in a.append("key",e.opts.fileUploadToS3.keyStart+new Date().getTime()+"-"+(i.name||"untitled")),a.append("success_action_status","201"),a.append("X-Requested-With","xhr"),a.append("Content-Type",o),e.opts.fileUploadToS3.params)e.opts.fileUploadToS3.params.hasOwnProperty(r)&&a.append(r,e.opts.fileUploadToS3.params[r]);for(r in e.opts.fileUploadParams)e.opts.fileUploadParams.hasOwnProperty(r)&&a.append(r,e.opts.fileUploadParams[r]);a.append(e.opts.fileUploadParam,i);var l,s,f=e.opts.fileUploadURL;e.opts.fileUploadToS3&&(f=e.opts.fileUploadToS3.uploadURL?e.opts.fileUploadToS3.uploadURL:"https://".concat(e.opts.fileUploadToS3.region,".amazonaws.com/").concat(e.opts.fileUploadToS3.bucket));var v=e.opts.fileUploadMethod;e.opts.fileUploadToAzure&&(f=e.opts.fileUploadToAzure.uploadURL?"".concat(e.opts.fileUploadToAzure.uploadURL,"/").concat(i.name):encodeURI("https://".concat(e.opts.fileUploadToAzure.account,".blob.core.windows.net/").concat(e.opts.fileUploadToAzure.container,"/").concat(i.name)),l=f,e.opts.fileUploadToAzure.SASToken&&(f+=e.opts.fileUploadToAzure.SASToken),v="PUT");var p=e.core.getXHR(f,v);if(e.opts.fileUploadToAzure){var d=new Date().toUTCString();if(!e.opts.fileUploadToAzure.SASToken&&e.opts.fileUploadToAzure.accessKey){var h=e.opts.fileUploadToAzure.account,b=e.opts.fileUploadToAzure.container;if(e.opts.fileUploadToAzure.uploadURL){var z=e.opts.fileUploadToAzure.uploadURL.split("/");b=z.pop(),h=z.pop().split(".")[0]}var Z=`x-ms-blob-type:BlockBlob
x-ms-date:`.concat(d,`
x-ms-version:2019-07-07`),T=encodeURI("/"+h+"/"+b+"/"+i.name),ee=v+`


`+i.size+`

`+o+`






`+Z+`
`+T,F=e.cryptoJSPlugin.cryptoJS.HmacSHA256(ee,e.cryptoJSPlugin.cryptoJS.enc.Base64.parse(e.opts.fileUploadToAzure.accessKey)).toString(e.cryptoJSPlugin.cryptoJS.enc.Base64),te="SharedKey "+h+":"+F;s=F,p.setRequestHeader("Authorization",te)}for(r in p.setRequestHeader("x-ms-version","2019-07-07"),p.setRequestHeader("x-ms-date",d),p.setRequestHeader("Content-Type",o),p.setRequestHeader("x-ms-blob-type","BlockBlob"),e.opts.fileUploadParams)e.opts.fileUploadParams.hasOwnProperty(r)&&p.setRequestHeader(r,e.opts.fileUploadParams[r]);for(r in e.opts.fileUploadToAzure.params)e.opts.fileUploadToAzure.params.hasOwnProperty(r)&&p.setRequestHeader(r,e.opts.fileUploadToAzure.params[r])}p.onload=function(){J.call(p,i.name,l,s)},p.onerror=G,p.upload.onprogress=X,p.onabort=Y,S();var O=e.popups.get("file.insert");O&&(O.off("abortUpload"),O.on("abortUpload",function(){p.readyState!==4&&p.abort()})),p.send(e.opts.fileUploadToAzure?i:a)}}}function V(){P()}function w(t){if(t)return e.popups.onHide("file.insert",V),!0;var o;e.opts.fileUpload||e.opts.fileInsertButtons.splice(e.opts.fileInsertButtons.indexOf("fileUpload"),1),o='<div class="fr-buttons fr-tabs">'.concat(e.button.buildList(e.opts.fileInsertButtons),"</div>");var a="";e.opts.fileUpload&&(a='<div class="fr-file-upload-layer fr-layer fr-active" id="fr-file-upload-layer-'.concat(e.id,'"><strong>').concat(e.language.translate("Drop file"),"</strong><br>(").concat(e.language.translate("or click"),')<div class="fr-form"><input type="file" name="').concat(e.opts.fileUploadParam,'" accept="').concat(0<=e.opts.fileAllowedTypes.indexOf("*")?"/":"").concat(e.opts.fileAllowedTypes.join(", ").toLowerCase(),'" tabIndex="-1" aria-labelledby="fr-file-upload-layer-').concat(e.id,'" role="button"></div></div>'));var i={buttons:o,upload_layer:a,progress_bar:'<div class="fr-file-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="fileDismissError" tabIndex="2" role="button">OK</button></div></div>'},r=e.popups.create("file.insert",i);return function(s){e.events.$on(s,"dragover dragenter",".fr-file-upload-layer",function(){return c(this).addClass("fr-drop"),!1},!0),e.events.$on(s,"dragleave dragend",".fr-file-upload-layer",function(){return c(this).removeClass("fr-drop"),!1},!0),e.events.$on(s,"drop",".fr-file-upload-layer",function(f){f.preventDefault(),f.stopPropagation(),c(this).removeClass("fr-drop");var v=f.originalEvent.dataTransfer;v&&v.files&&(s.data("instance")||e).file.upload(v.files)},!0),e.helpers.isIOS()&&e.events.$on(s,"touchstart",'.fr-file-upload-layer input[type="file"]',function(){c(this).trigger("click")}),e.events.$on(s,"change",'.fr-file-upload-layer input[type="file"]',function(){if(this.files){var f=s.data("instance")||e;f.events.disableBlur(),s.find("input:focus").blur(),f.events.enableBlur(),f.file.upload(this.files)}c(this).val("")},!0)}(r),r}function W(t){e.node.hasClass(t,"fr-file")}function Q(t){var o=t.originalEvent.dataTransfer;if(o&&o.files&&o.files.length){var a=o.files[0];if(a&&typeof a.type<"u"){if(a.type.indexOf("image")<0){if(!e.opts.fileUpload)return t.preventDefault(),t.stopPropagation(),!1;e.markers.remove(),e.markers.insertAtPoint(t.originalEvent),e.$el.find(".fr-marker").replaceWith(n.MARKERS),e.popups.hideAll();var i=e.popups.get("file.insert");return i||(i=w()),e.popups.setContainer("file.insert",e.$sc),e.popups.show("file.insert",t.originalEvent.pageX,t.originalEvent.pageY),S(),$(o.files),t.preventDefault(),t.stopPropagation(),!1}}else a.type.indexOf("image")<0&&(t.preventDefault(),t.stopPropagation())}}function R(){var t,o=Array.prototype.slice.call(e.el.querySelectorAll("a.fr-file")),a=[];for(t=0;t<o.length;t++)a.push(o[t].getAttribute("href"));if(u)for(t=0;t<u.length;t++)a.indexOf(u[t].getAttribute("href"))<0&&e.events.trigger("file.unlink",[u[t]]);u=o}return U[1]="File cannot be loaded from the passed link.",U[E]="No link in upload response.",U[B]="Error during file upload.",U[m]="Parsing response failed.",U[L]="File is too large.",U[I]="File file type is invalid.",U[7]="Files can be uploaded only to same domain in IE 8 and IE 9.",{_init:function(){(function(){e.events.on("drop",Q),e.events.$on(e.$win,"keydown",function(a){var i=a.which,r=e.popups.get("file.insert");r&&i===n.KEYCODE.ESC&&r.trigger("abortUpload")}),e.events.on("destroy",function(){var a=e.popups.get("file.insert");a&&a.trigger("abortUpload")})})(),e.events.on("link.beforeRemove",W),e.$wp&&(R(),e.events.on("contentChanged",R)),w(!0)},showInsertPopup:function(){var o=e.$tb.find('.fr-command[data-cmd="insertFile"]'),a=e.popups.get("file.insert");if(a||(a=w()),P(),!a.hasClass("fr-active"))if(e.popups.refresh("file.insert"),e.popups.setContainer("file.insert",e.$tb),o.isVisible){var i=e.button.getPosition(o),r=i.left,l=i.top;e.popups.show("file.insert",r,l,o.outerHeight())}else e.position.forSelection(a),e.popups.show("file.insert")},upload:$,insert:C,back:function(){e.events.disableBlur(),e.selection.restore(),e.events.enableBlur(),e.popups.hide("file.insert"),e.toolbar.showInline()},hideProgressBar:P}},n.DefineIcon("insertFile",{NAME:"file-o",FA5NAME:"file",SVG_KEY:"insertFile"}),n.RegisterCommand("insertFile",{title:"Upload File",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("file.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("file.insert")):this.file.showInsertPopup()},plugin:"file"}),n.DefineIcon("fileBack",{NAME:"arrow-left",SVG_KEY:"back"}),n.RegisterCommand("fileBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.file.back()},refresh:function(e){this.opts.toolbarInline?(e.removeClass("fr-hidden"),e.next(".fr-separator").removeClass("fr-hidden")):(e.addClass("fr-hidden"),e.next(".fr-separator").addClass("fr-hidden"))}}),n.RegisterCommand("fileDismissError",{title:"OK",callback:function(){this.file.hideProgressBar(!0)}})})})();var K=ne.exports;const se=oe(K),de=ie({__proto__:null,default:se},[K]);export{de as f};

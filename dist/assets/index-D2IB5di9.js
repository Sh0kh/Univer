const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/froala_editor.min-DzVImSGu.js","assets/index-DUduwWLC.js","assets/index-D35by1xE.css","assets/froala_editor.min-CYTjCKNx.js"])))=>i.map(i=>d[i]);
import{a as H,r as B,_ as U,c as G}from"./index-DUduwWLC.js";function F(b,O){for(var h=0;h<O.length;h++){const u=O[h];if(typeof u!="string"&&!Array.isArray(u)){for(const p in u)if(p!=="default"&&!(p in b)){const l=Object.getOwnPropertyDescriptor(u,p);l&&Object.defineProperty(b,p,l.get?l:{enumerable:!0,get:()=>u[p]})}}}return Object.freeze(Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}))}var x={exports:{}};(function(b,O){(function(h,u){b.exports=u(B)})(G,h=>(()=>{var u={442:r=>{r.exports=h}},p={};function l(r){var n=p[r];if(n!==void 0)return n.exports;var o=p[r]={exports:{}};return u[r](o,o.exports,l),o.exports}l.n=r=>{var n=r&&r.__esModule?()=>r.default:()=>r;return l.d(n,{a:n}),n},l.d=(r,n)=>{for(var o in n)l.o(n,o)&&!l.o(r,o)&&Object.defineProperty(r,o,{enumerable:!0,get:n[o]})},l.o=(r,n)=>Object.prototype.hasOwnProperty.call(r,n),l.r=r=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};var j={};l.r(j),l.d(j,{default:()=>D});var A=l(442),w=l.n(A);function T(r,n){var o=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);n&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),o.push.apply(o,i)}return o}function N(r,n,o){return(n=P(n))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r}function d(r){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},d(r)}function I(r,n){for(var o=0;o<n.length;o++){var i=n[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,P(i.key),i)}}function P(r){var n=function(o){if(d(o)!="object"||!o)return o;var i=o[Symbol.toPrimitive];if(i!==void 0){var t=i.call(o,"string");if(d(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}(r);return d(n)=="symbol"?n:n+""}function S(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S=function(){return!!r})()}function g(r){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},g(r)}function _(r,n){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},_(r,n)}var M=null;function y(r){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},y(r)}function L(r,n){for(var o=0;o<n.length;o++){var i=n[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,z(i.key),i)}}function z(r){var n=function(o){if(y(o)!="object"||!o)return o;var i=o[Symbol.toPrimitive];if(i!==void 0){var t=i.call(o,"string");if(y(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}(r);return y(n)=="symbol"?n:n+""}function C(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C=function(){return!!r})()}function m(r){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},m(r)}function E(r,n){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},E(r,n)}var D=function(r){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,e,a){return e=m(e),function(s,c){if(c&&(y(c)=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(s)}(t,C()?Reflect.construct(e,a||[],m(t).constructor):e.apply(t,a))}(this,n,arguments)}return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E(t,e)}(n,r),o=n,(i=[{key:"render",value:function(){var t=this;return w().createElement(this.tag,{ref:function(e){return t.el=e}},this.props.children)}}])&&L(o.prototype,i),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,i}(function(r){function n(t){var e;return function(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}(this,n),(e=function(a,s,c){return s=g(s),function(f,v){if(v&&(d(v)=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(f)}(a,S()?Reflect.construct(s,c||[],g(a).constructor):s.apply(a,c))}(this,n,[t])).defaultTag="div",e.tag=t.tag||e.defaultTag,e.listeningEvents=[],e.element=null,e.editor=null,e.config={immediateReactModelUpdate:!1,reactIgnoreAttrs:null},e.editorInitialized=!1,e.editorCreated=!1,e.SPECIAL_TAGS=["img","button","input","a"],e.INNER_HTML_ATTR="innerHTML",e.hasSpecialTag=!1,e.oldModel=null,e}return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}(n,r),o=n,i=[{key:"componentDidMount",value:function(){var t=this;U(()=>import("./froala_editor.min-DzVImSGu.js").then(e=>e.f),__vite__mapDeps([0,1,2,3])).then(function(e){M=e.default;var a=t.el.tagName.toLowerCase();t.SPECIAL_TAGS.indexOf(a)!=-1&&(t.tag=a,t.hasSpecialTag=!0),t.props.onManualControllerReady?t.generateManualController():t.createEditor()})}},{key:"componentWillUnmount",value:function(){this.destroyEditor()}},{key:"componentDidUpdate",value:function(){JSON.stringify(this.oldModel)!=JSON.stringify(this.props.model)&&this.setContent()}},{key:"clone",value:function(t){var e,a=this;if(!t)return t;if([Number,String,Boolean].forEach(function(c){t instanceof c&&(e=c(t))}),e===void 0)if(Object.prototype.toString.call(t)==="[object Array]")e=[],t.forEach(function(c,f,v){e[f]=a.clone(c)});else if(d(t)=="object")if(t.nodeType&&typeof t.cloneNode=="function")e=t.cloneNode(!0);else if(t.prototype)e=t;else if(t instanceof Date)e=new Date(t);else for(var s in e={},t)e[s]=a.clone(t[s]);else e=t;return e}},{key:"createEditor",value:function(){var t=this;this.editorInitialized||this.editorCreated||(this.config=this.clone(this.props.config||this.config),this.config=function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?T(Object(s),!0).forEach(function(c){N(e,c,s[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):T(Object(s)).forEach(function(c){Object.defineProperty(e,c,Object.getOwnPropertyDescriptor(s,c))})}return e}({},this.config),this.element=this.el,this.setContent(!0),this.registerEvent("initialized",this.config.events&&this.config.events.initialized),this.config.events||(this.config.events={}),this.config.events.initialized=function(){return t.initListeners()},this.editor=new M(this.element,this.config),this.editorCreated=!0)}},{key:"setContent",value:function(t){(this.props.model||this.props.model=="")&&(this.oldModel=this.props.model,this.hasSpecialTag?this.setSpecialTagContent():this.setNormalTagContent(t))}},{key:"setNormalTagContent",value:function(t){var e=this,a=this;function s(){a.editor.html&&a.editor.html.set(a.props.model||""),a.editorInitialized&&a.editor.undo&&(a.props.skipReset||a.editor.undo.reset(),a.editor.undo.saveStep())}t?this.config.initOnClick?(this.registerEvent("initializationDelayed",function(){s()}),this.registerEvent("initialized",function(){e.editorInitialized=!0})):this.registerEvent("initialized",function(){e.editorInitialized=!0,s()}):s()}},{key:"setSpecialTagContent",value:function(){var t=this.props.model;if(t){for(var e in t)t.hasOwnProperty(e)&&e!=this.INNER_HTML_ATTR&&this.element.setAttribute(e,t[e]);t.hasOwnProperty(this.INNER_HTML_ATTR)&&(this.element.innerHTML=t[this.INNER_HTML_ATTR])}}},{key:"destroyEditor",value:function(){if(this.element){this.editor.destroy&&this.editor.destroy(),this.listeningEvents.length=0,this.element=null,this.editorInitialized=!1,this.editorCreated=!1,this.config={immediateReactModelUpdate:!1,reactIgnoreAttrs:null};var t=this.el.tagName.toLowerCase();this.SPECIAL_TAGS.indexOf(t)==-1&&this.editor&&this.editor.destrying&&!this.props.onManualControllerReady&&this.tag=="textarea"&&this.editor.$box.remove(),this.tag!="textarea"&&(this.editor.$wp="")}}},{key:"getEditor",value:function(){return this.element?this.editor:null}},{key:"generateManualController",value:function(){var t=this,e={initialize:function(){return t.createEditor.call(t)},destroy:function(){return t.destroyEditor.call(t)},getEditor:function(){return t.getEditor.call(t)}};this.props.onManualControllerReady(e)}},{key:"updateModel",value:function(){if(this.props.onModelChange){var t="";if(this.hasSpecialTag){for(var e=this.element.attributes,a={},s=0;s<e.length;s++){var c=e[s].name;this.config.reactIgnoreAttrs&&this.config.reactIgnoreAttrs.indexOf(c)!=-1||(a[c]=e[s].value)}this.element.innerHTML&&(a[this.INNER_HTML_ATTR]=this.element.innerHTML),t=a}else{var f=this.editor.html.get();typeof f=="string"&&(t=f)}this.oldModel=t,this.props.onModelChange(t)}}},{key:"initListeners",value:function(){var t=this;if(this.editor&&this.editor.events&&this.editor.events.on("contentChanged",function(){t.updateModel()}),this.config.immediateReactModelUpdate&&this.editor.events.on("keyup",function(){t.updateModel()}),this._initEvents)for(var e=0;e<this._initEvents.length;e++)this._initEvents[e].call(this.editor)}},{key:"registerEvent",value:function(t,e){t&&e&&(t=="initialized"?(this._initEvents||(this._initEvents=[]),this._initEvents.push(e)):(this.config.events||(this.config.events={}),this.config.events[t]=e))}}],i&&I(o.prototype,i),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,i}(w().Component));return j})())})(x);var k=x.exports;const W=H(k),J=F({__proto__:null,default:W},[k]);export{J as i};
